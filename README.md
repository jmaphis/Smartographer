# [Smartographer](http://smartographer.fly.dev)

## About

Smartographer is a map generation web app, by James Maphis.<br>
You currently can make dungeon, cave and world maps by pressing their respective buttons. <br>
To get a new map of the chosen type, press the refresh button.<br>
If you find a map you would like to save, you can create an account and sign in. then simply give the map a name, and hit save!<br>
(Currently Smartographer is just a proof of concept.  I cannot guarantee that user accounts and maps will not be deleted.)<br>
<br>
There is currently a rare bug which will cause the site to crash while trying to view a specific map type. <br>
To fix this, you can reset that map type by clicking the corresponding link below:<br>
[Cave](http://smartographer.fly.dev/maps/refresh_cave)<br>
[Dungeon](http://smartographer.fly.dev/maps/refresh_dungeon)<br>
[World](http://smartographer.fly.dev/maps/refresh_world)<br>

## How it Works

Smartographer is powered by 3 separate procedural generation algorithms, which serve as the back end. <br>
They are connected to the front end by a Map Manager object, which fetches a map of the appropriate type.<br>
These maps are represented by two dimensional arrays of binary integers, which the Map Manager converts \<div\> tags.<br>
Storing the maps in a database proved challenging, but seeding the random number generator, and storing the seed in <br>
the database allows the application to consistantly generate identical maps on demand.<br>

These underlying algorithms are as follows:<br>

### [Cave](https://smartographer.fly.dev/maps/gen/cave)

  Cave maps are generated using a technique called [Random Walk](https://en.wikipedia.org/wiki/Random_walk). The algorithm currently takes 750 steps. <br>
  To ensure maps of equal size, steps are only counted if they land on a tile which has never been stepped on previously.<br>
  If the algorithm attempts to step out of the bounds of the matrix, the "walker" is returned to the center of the map.

### [Dungeon](https://smartographer.fly.dev/maps/gen/dungeon)

  Dungeon maps are generated by placing six square rooms onto the matrix, each time makeing sure the new room does not <br>
  overlap with existing rooms. The rooms are sorted by their distance from the top right corner before hallways are added, <br>
  connecting each room to the next room in the list. This reduces the number of extremely long hallways, without eliminating<br> 
  them altogether. I felt that this small chance or extreme hallways adds charm to the maps that they appear on.<br>

### [World](https://smartographer.fly.dev/maps/gen/world)
  
  World maps are first populated with a random assortment of 1s and 0s, representing land ad water, respectively. <br>
  (An approximate 40/60 split of land and water seems to produce the best results.) A simple [Cellular Automaton](https://en.wikipedia.org/wiki/Cellular_automaton) is then<br> 
  applied to the matrix to group together land tiles into clusters resembling islands. Applying more layers of the CA results <br>
  in smoother, more rounded islands. I have found 2 layers to produce the best results.
